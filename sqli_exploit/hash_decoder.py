import hashlib


def decode_hash(target_hash: str, wordlist):
    wordlist = open(wordlist)
    passwords = wordlist.readlines()

    for password in passwords:
        if password[0] == "#":  # removing a comments
            continue
        password = password.strip()
        hash = hashlib.md5(password.encode("UTF-8")).hexdigest()
        if hash == target_hash:
            return password
